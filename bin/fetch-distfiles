#!/bin/sh
#set -x
#
# Copy distfiles from git.eclipse.org
#
HTTP_BASE="https://git.eclipse.org/c"
MODULES="
	jdt/eclipse.jdt
	jdt/eclipse.jdt.core
	jdt/eclipse.jdt.core.binaries
	jdt/eclipse.jdt.debug
	jdt/eclipse.jdt.ui
	pde/eclipse.pde.build
	pde/eclipse.pde.ui
	platform/eclipse.platform
	platform/eclipse.platform.common
	platform/eclipse.platform.debug
	platform/eclipse.platform.releng
	platform/eclipse.platform.resources
	platform/eclipse.platform.runtime
	platform/eclipse.platform.swt
	platform/eclipse.platform.swt.binaries
	platform/eclipse.platform.team
	platform/eclipse.platform.text
	platform/eclipse.platform.ua
	platform/eclipse.platform.ui
	equinox/rt.equinox.binaries
	equinox/rt.equinox.bundles
	equinox/rt.equinox.framework
	equinox/rt.equinox.p2
	equinox/eclipse.platform.ui.tools
"

if [ ! -x bin/$(basename $0) ]
then
	echo "ERROR: Run this from top level"
	exit 1
fi
. ./config.sh

mkdir -p distfiles
for M in ${MODULES}
do
	MODULE=$(basename $M)
	URL="${HTTP_BASE}/${M}.git/snapshot/${MODULE}-${ECLIPSE_TAG}.tar.xz"
	fetch -o distfiles ${URL}
done
